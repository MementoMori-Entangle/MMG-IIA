# MMG-IIA
メメントモリ画像入力解析

MMGで出来なかった画像認識からのデータ抽出(ユーザー・編成・対戦結果)と蓄積(登録・更新)  
データの学習モデル化、対戦編成の選別を一括で処理するエージェントの開発  
規模が大きいため、各機能を細分化してサブプロジェクト化する。  
第一弾として、画像からキャラクター画像認識、  
OCRによる編成情報構造体作成を「MMG-IIA」でプロトタイプ開発

採用ライブラリ・サービス(フリー利用可能必須)  
・画像認識(OpenCV)  
・文字認識(OCR)  
Google Teseract (学習モデル問題)  
Google Drive API(doc 100s20000リクエスト)  

Google Teseractで画像→OCRする場合、フォントの学習モデルが問題となる。  
標準で提供されている日本語モデル(3種)ではメメントモリのフォントには対応できない。  
また、どのようなフォントを使用していか不明のため、学習するのが難しい。  
判明したとしても、有償フォントの場合はライセンス問題がある。  

無償フォントでメメントモリ偵察画面で使用されているフォントに、  
似ていると考えられるもので機械学習させてOCRしてみたが芳しくない。  
機械学習はWindows Teseract-OCRエンジンとjTessBoxEditorでフォントのモデルを作成

Google Drive APIで画像→Doc(OCR)で2秒～5秒(環境により大きく変動)かかるので、  
高速リアルタイム処理に使用する場合には向かない。  
(メメントモリでは、最短0.8秒で次の編成へ進行する)  
メメントモリ偵察画面の認識率は95パーセント以上はある。  
認識できる時とできない時で少量の変動が確認された。  
タブの文字列、キャラクター画像に埋め込まれた小さいLvXXXの文字列など  

Google Drive APIの利用で以下対応  
・Googleサービスアカウントの作成  
・サービスアカウントの鍵作成(json形式)とダウンロード ※セキュリティにかかわるので取扱注意  
・画像ファイルをアップロードするディレクトリ(フォルダ)の作成とIDの確認  

サービス名、鍵ファイルのパス、画像ファイルアップロードフォルダIDは、  
各自の環境に合わせてアプリ設定を書き換える必要あり

アプリに必要なリソース(※1)  
・キャラクター画像を認識するためのテンプレート画像  
char_pm_gvs/xxx.bmp  
char_icon/xxx.jpg  
・文字認識モデル  
tessdata/jpn.traineddata

(※1) Google Drive API(doc)で画像をOCRするだけなら不要
